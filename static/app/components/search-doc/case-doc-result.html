<md-card>
  <md-card-title>
    <md-card-title-text>
      <span class="md-headline">{{tableDesc}}</span>
      <span class="md-subhead">{{subDesc}}</span>
    </md-card-title-text>
    <md-button class="md-icon-button" ng-click="searchCtrl.searchDocByCase()">
      <md-icon>refresh</md-icon>
    </md-button>
  </md-card-title>

  <md-card-content layout-align="space-between">
    <md-table-container>
      <table md-table>
        <thead md-head>
        <tr md-row>
          <th md-column><strong>Domain</strong></th>
          <th md-column><strong>Source</strong></th>
          <th md-column><strong>IdType</strong></th>
          <th md-column><strong>ID</strong></th>
          <th md-column ng-repeat="(fieldName, fieldValue) in resultData[0].dynamicFields">{{fieldName}}</th>
        </tr>
        </thead>
        <tbody md-body>
        <tr md-row ng-repeat="doc in resultData track by $index">
          <td md-cell>{{doc.domain}}</td>
          <td md-cell>{{doc.source}}</td>
          <td md-cell>{{doc.idType}}</td>
          <td md-cell>{{doc.id}}</td>
          <td md-cell ng-repeat="(fieldName, fieldValue) in doc.dynamicFields">{{fieldValue}}</td>
          <td>
            <md-button class="md-raised md-small" ng-click="searchCtrl.onViewDoc(doc)">View</md-button>
          </td>
          <td>
            <md-button class="md-raised md-small" ng-click="searchCtrl.onViewWorm(doc)">View WORM</md-button>
          </td>
          <td>
            <md-button class="md-raised md-small">Compare</md-button>
          </td>
          <td>
            <md-button ng-disabled="searchCtrl.docUpdateInProgress[$index]" class="md-raised md-small"
                       ng-click="searchCtrl.onTagDoc(doc, $index, searchCtrl.caseTagStates)">Tag
            </md-button>
          </td>
          <td>
            <md-button ng-disabled="searchCtrl.docUpdateInProgress[$index]" class="md-raised md-small"
                       ng-click="searchCtrl.onUnTagDoc(doc, $index, searchCtrl.caseTagStates)">UnTag
            </md-button>
          </td>
          <td width="90px">
            <md-progress-circular class="md-accent" md-diameter="20" ng-show="searchCtrl.docUpdateInProgress[$index]"></md-progress-circular>
            <label>{{searchCtrl.caseTagStates[$index]}}</label>
          </td>
        </tr>
        </tbody>
      </table>
    </md-table-container>
  </md-card-content>
</md-card>