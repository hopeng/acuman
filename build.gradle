buildscript {
	ext {
		springBootVersion = '1.3.3.RELEASE'
	}
	repositories {
	 	mavenLocal()
		maven {
			name "nexus-public"
            url "https://nexus.internal.macquarie.com/content/groups/public/"
            credentials {
				username mavenUser
				password mavenPassword
            }
		}
	}
	dependencies {
		classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
	}
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'idea'
apply plugin: 'spring-boot'

sourceCompatibility = 1.8
targetCompatibility = 1.8

jar {
	baseName = 'acuman'
	version =  '0.1.0'
}

repositories {
	maven {
		name "nexus-public"
		url "https://nexus.internal.macquarie.com/content/groups/public/"
		credentials {
			username mavenUser
			password mavenPassword
		}
	}

	maven {
		name "ofr-release"
		url "https://nexus.internal.macquarie.com/content/repositories/ofr-releases/"
		credentials {
			username mavenUser
			password mavenPassword
		}
	}
}

dependencies {
	compile ('com.macquarie.ofr.mds:mds-ms-common:1.1.6')
    compile ('org.springframework.boot:spring-boot-starter-web')
	compile('org.apache.commons:commons-lang3:3.4')
	compile("org.springframework.boot:spring-boot-devtools")

	testCompile("org.springframework.boot:spring-boot-starter-test")
}

task wrapper(type: Wrapper) {
	gradleVersion = '2.10'
}

task runJar(dependsOn:build) << {
    javaexec {
        main = "-jar";
        args = [buildDir.path + "/libs/" + project.jar.baseName + "-" + project.jar.version + ".jar"]
    }
}
